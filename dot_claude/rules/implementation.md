# 実装フェーズの進め方

Plan モードで承認された計画に基づいてコードを変更する際のルール。

---

## 1. ガードレール先行

実装コードを書く前に、品質を担保する仕組みを用意する。

- 型定義・スキーマ定義を先に作成
- テストファイルの準備（テスト環境の確認を含む）

> AI が高速にコードを生成する前に、間違いを検出できる仕組みを先に置く。

---

## 2. タスク単位で進める

計画を小さなタスク単位に分割し、1つずつ完了させる。

- 独立したタスクが複数ある場合は `Task` ツールで並列実行を検討
- 各タスク完了時に `AskUserQuestion` でユーザーの確認を取る
- **ユーザーの OK なしに次タスクへ進まない**
- 確認時には変更差分・テスト結果など具体的な情報を提示する

---

## 3. 完了前の検証（必須）

作業完了を宣言する前に、以下を必ず実行する。

### 自動検証
- [ ] テストを実行し、**出力結果を確認**する（成功を想定しない）
- [ ] 型チェック（`tsc --noEmit` 等）を実行し、エラーがないことを確認
- [ ] lint を実行し、警告・エラーを確認

### スキルによるレビュー（変更ファイルに対して実行）
- [ ] `/naming-review` - 変更したコードの命名をレビュー（常に実行）
- [ ] `/ui-check` - UIコンポーネントを変更した場合のみ実行

> 「テストが通りました」と言う前に、実際のコマンド出力を貼る。証拠なき主張はしない。

---

## 4. 完了の判断

すべての検証をパスしたら、ユーザーに完了方法を確認する。

- コミットのみ
- コミット + プッシュ
- コミット + プッシュ + PR 作成

ユーザーの指示なしにプッシュや PR 作成を行わない。
